<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Calculadora LRA → Consumo de Trabajo</title>
  <style>
    :root{ --bg:#f7fbff; --card:#ffffff; --accent:#0b6efd; --muted:#6b7280; --glass: rgba(255,255,255,0.7);} 
    *{box-sizing:border-box;font-family:Inter, ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial}
    body{background:linear-gradient(180deg,#eef6ff 0%, #ffffff 100%);padding:24px;}
    .container{max-width:760px;margin:24px auto;padding:20px;background:var(--card);border-radius:14px;box-shadow:0 6px 30px rgba(11,110,237,0.08)}
    h1{margin:0 0 6px;font-size:20px;color:#073763}
    p.lead{margin:0 0 18px;color:var(--muted)}
    label{display:block;margin-top:12px;color:#0b1220;font-weight:600}
    input[type="number"], select{width:100%;padding:10px;border-radius:8px;border:1px solid #e6eef8;margin-top:6px}
    .row{display:flex;gap:12px;margin-top:12px}
    .col{flex:1}
    button{background:var(--accent);color:white;border:none;padding:10px 14px;border-radius:10px;font-weight:700;cursor:pointer}
    button.secondary{background:#e6eef8;color:#073763}
    .result{margin-top:16px;padding:14px;border-radius:10px;background:linear-gradient(180deg, rgba(11,110,237,0.03), rgba(11,110,237,0.01));border:1px solid rgba(11,110,237,0.06)}
    .result .row{margin:10px 0}
    small{color:var(--muted)}
    .inline{display:inline-block;vertical-align:middle}
    .kbd{display:inline-block;background:#f3f6fb;border-radius:6px;padding:6px 8px;font-weight:700;margin-left:8px}
    @media (max-width:520px){.row{flex-direction:column}}
  </style>
  <link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#0b6efd">
</head>
<body>
  <div class="container">
    <h1>Calculadora de LRA → Consumo de Trabajo</h1>
    <p class="lead">Introduce la corriente <strong>LRA</strong> (Locked Rotor Amps). Te doy dos opciones para estimar la corriente de trabajo (RLA/FLA): método típico (20–35%) y método simple (dividir LRA por 5).</p>

    <label for="lra">LRA (A)</label>
    <input id="lra" type="number" inputmode="decimal" step="0.01" min="0" placeholder="Ej: 5.8" value="5.8">

    <label for="method">Método</label>
    <select id="method">
      <option value="estimate">Estimación 20% - 35% (recomendado)</option>
      <option value="div5">Dividir LRA por 5 (LRA / 5)</option>
    </select>

    <div class="row">
      <div class="col">
        <button id="calc">Calcular</button>
      </div>
      <div class="col">
        <button id="copy" class="secondary">Copiar resultado</button>
      </div>
    </div>

    <div id="result" class="result" aria-live="polite">
      <div id="empty">No hay resultados aún. Ingresa un valor y presiona "Calcular".</div>
    </div>
<button onclick="window.location.href='index.html'">
  Volver al inicio
</button>

  <script>
    const lraEl = document.getElementById('lra');
    const methodEl = document.getElementById('method');
    const calcBtn = document.getElementById('calc');
    const resultEl = document.getElementById('result');
    const copyBtn = document.getElementById('copy');

    function formatA(v){
      return Number.isFinite(v) ? v.toFixed(2) + ' A' : '-';
    }

    function calculate(){
      const lra = parseFloat(lraEl.value);
      if(!Number.isFinite(lra) || lra <= 0){
        resultEl.innerHTML = '<div style="color:#b91c1c;font-weight:700">Ingresa un valor de LRA válido (mayor que 0).</div>';
        return;
      }

      const method = methodEl.value;

      if(method === 'estimate'){
        const min = lra * 0.20;
        const typ = lra * 0.30;
        const max = lra * 0.35;

        resultEl.innerHTML = `
          <div><strong>Método:</strong> Estimación 20% - 35% del LRA</div>
          <div class="row"><div class="col"><small>Min. (20%)</small><div style="font-size:18px;font-weight:800">${formatA(min)}</div></div>
          <div class="col"><small>Típico (30%)</small><div style="font-size:18px;font-weight:800">${formatA(typ)}</div></div>
          <div class="col"><small>Máx. (35%)</small><div style="font-size:18px;font-weight:800">${formatA(max)}</div></div></div>
          <div style="margin-top:8px;color:var(--muted)">Estos valores son estimaciones basadas en prácticas comunes de diseño de motores. Para precisión, consultar la placa del fabricante.</div>
        `;

      } else if(method === 'div5'){
        const val = lra / 5;
        resultEl.innerHTML = `
          <div><strong>Método:</strong> LRA ÷ 5</div>
          <div class="row"><div class="col"><small>Valor</small><div style="font-size:18px;font-weight:800">${formatA(val)}</div></div></div>
          <div style="margin-top:8px;color:var(--muted)">Método sencillo: dividir por 5 suele usarse como regla rápida. Menos preciso que el método de porcentaje.</div>
        `;
      }
    }

    calcBtn.addEventListener('click', calculate);

    copyBtn.addEventListener('click', ()=>{
      const text = resultEl.innerText || '';
      if(!text.trim()) return;
      navigator.clipboard?.writeText(text).then(()=>{
        copyBtn.textContent = 'Copiado ✓';
        setTimeout(()=> copyBtn.textContent = 'Copiar resultado', 1400);
      }).catch(()=>{
        alert('No se pudo copiar automáticamente. Seleccioná y copiá manualmente.');
      })
    });

    // Calcular al cambiar enter en el input
    lraEl.addEventListener('keyup', (e)=>{ if(e.key === 'Enter') calculate(); });

    // cálcula en carga inicial
    //calculate();
  </script>
    <script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('service-worker.js');
  }
</script>
</body>
</html>
